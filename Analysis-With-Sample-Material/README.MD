**Original source**: https://satoh.cs.uec.ac.jp/SAKURA/hardware/SAKURA-X.html  

This is a brief description of the important files present in the sub-directories. A detailed analysis of the codes has **NOT** been done and all issues I have identified have been mentioned below.

-------------------------------------------------
## **Software files**
These are the important c# scripts and the brief description is based on my understanding of the files. These files can be found in sasebo-giii_Software_Files/SASEBO_G_Checker/SASEBO_G_Checker  

**Controller.cs**: AES encryption is being done in both software and hardware. Plaintext (PT) is generated by giving a random input for variable *text_in*. The output of the software encryption is present in *text_ans* and the output of the FPGA encryption is present in *text_out*. Number of traces is present in num_trace. Other important functions in this file are worker funcs, cancel() and run().

**Form_main.cs**: This file gives the GUI for the user to give the fixed key and number of traces and to start, stop and reset. Delay in ms between two traces can also be given in this and 600ms is preferred. Other important functions in this file are init_module(), init_controller(), form_controller_load(), form_main() and format().

**Manager.cs**: Important functions in this are tracer_run(), tracer_cancel() and event handlers.

**IBlockCipher.cs**: Function declarations for setKey(), setEnc(), setDec(), writeText(), readText() and execute() are present here.

**SASEBO_G.cs**: Cipher modes (for encryption or decryption) and address values for reading and writing into the FPGA are set here. Function definitions for setKey(), setEnc(), writeText(), etc. are present here.

**SASEBO_IF.cs**: RS-232 port is used to communicate with the FPGA, FTDI_USB definition is also given here.

**AES.cs**: Software code for AES encryption. Decryption is not done and only null is returned if attempted.

-------------------------------------------------

## **Hardware files**
The hardware sub-directory contains verilog codes and constraint file. The constraints file is of UCF type hence Xilinx ISE was used. Bit file is also present in the sub-directory and can be directly loaded onto the FPGA. These files are present in sasebo-giii_Hardware_Files.

**Note**: After multiple attempts, it was found that generating a bit file from the source codes didn't work with the software codes. It might be because of lack of a JTAG connection in the constraints file or improper clock configuration.  

An attempt was made to modify the core AES verilog code and the modified codes can also be found in the sub-directory, New-codes.

**For the cryptographic FPGA**:  
Location: sasebo-giii_Hardware_Files/sasebo_giii_aes  
Top module: CHIP_SASEBO_GIII_AES (chip_sasebo_giii_aes.v)  
Core AES module (in original file): AES_Composite_enc (aes_composite_enc.v)  
Shakti's AES module: mkAES (New-codes/mkAES.v)  
Modifications: Core AES module is named outer in the TOP module and the ports of it were appropriately mapped to Shakti's Normal AES accelerator with composite S-box.  

**For the control FPGA**:  
Location: sasebo-giii_Hardware_Files/sasebo_giii_ctrl  
Top module: CHIP_SASEBO_GIII_CTRL (chip_sasebo_giii_ctrl.v)

**Note**: The bit file (sasebo_giii.bit) for running the FPGA can be loaded using any Xilinx tool. It is not necessary to load this bit file and simply resetting the FPGA will default set the FPGA to this bit file.


